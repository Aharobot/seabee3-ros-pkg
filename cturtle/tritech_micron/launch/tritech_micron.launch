<launch>
	<arg name="rate" default="30" />
	<arg name="use_nodelets" default="false" />
	<arg name="nodelet_manager_name" default="nodelet_manager" />
	<arg name="name_prefix" default="tritech_micron" />
	<arg name="name_postfix" default="" />
	
	<arg name="name" value="$(arg name_prefix)$(arg name_postfix)" />
	<arg name="pkg" value="tritech_micron" />
	<arg name="node_type" value="$(arg pkg)_node" />
	<arg name="nodelet_type" value="$(arg pkg)_nodelet" />

	<arg name="simulate" default="false" />
	<arg name="frame_id" default="/tritech_micron" />
	<arg name="port" default="/dev/ttyS0" />
	<arg name="num_bins" default="200" />
	<arg name="range" default="10.0" />
	<arg name="velocity_of_sound" default="1500.0" />

	<node pkg="$(arg pkg)" type="$(arg node_type)" name="$(arg name)" output="screen" args="_rate:=$(arg rate) _simulate:=$(arg simulate) _frame_id:=$(arg frame_id) _port:=$(arg port) _num_bins:=$(arg num_bins) _range:=$(arg range) _velocity_of_sound:=$(arg velocity_of_sound)" >
	</node>

	<include file="$(find tritech_micron)/launch/scan_line_converter.launch" >
		<arg name="rate" value="$(arg rate)" />
		<arg name="scan_line" value="$(arg name)/scan_line" />
	</include>
	
	<node pkg="tf" type="static_transform_publisher" name="seabee3_base_link_to_tritech_micron" output="screen"
	args="0.5 0 0 0 0 0 /seabee3/base_link $(arg frame_id) 100" />
	
	<arg name="show_reconfigure" default="true" />
	<include file="$(find seabee3_launch)/dynamic_reconfigure.launch" >
		<arg name="enable" value="$(arg show_reconfigure)" />
		<arg name="name" value="$(arg name)" />
	</include>

	<arg name="show_rviz" default="true" />
	<include file="$(find seabee3_launch)/rviz.launch" >
		<arg name="enable" value="$(arg show_rviz)" />
		<arg name="use_config_file" value="true" />
		<arg name="config_file" value="$(find tritech_micron)/launch/tritech_micron.vcg" />
	</include>
</launch>
